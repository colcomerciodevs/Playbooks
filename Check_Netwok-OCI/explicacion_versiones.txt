ğŸ“˜ EXPLICACIÃ“N TÃ‰CNICA: Comparativa entre versiones de validaciÃ³n de red con Ansible

ğŸ“Œ Contexto:
Se diseÃ±aron dos versiones de playbooks para validar conectividad (ping) y apertura de puertos en hosts Linux y Windows.
Ambas versiones generan un archivo CSV consolidado por host, pero difieren en diseÃ±o, ejecuciÃ³n y rendimiento.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” VERSIÃ“N 1: Basada en tareas puras de Ansible (mÃ¡s detallada, pero lenta)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ”ï¸ CaracterÃ­sticas principales:
- Ansible ejecuta tareas independientes por cada IP y cada puerto.
- Uso de `include_tasks` para ping y validaciÃ³n de puertos.
- Cada resultado se guarda lÃ­nea a lÃ­nea en el CSV local usando `lineinfile`.

â±ï¸ Tiempo de ejecuciÃ³n promedio:
â†’ 6 minutos  
ğŸ”¹ Inventario: 2 servidores Linux + 2 servidores Windows  
ğŸ”¹ Matriz: 4 IPs Ã— 4 puertos

âš ï¸ Factores de lentitud:
1. Cada validaciÃ³n representa una conexiÃ³n remota desde el controlador.
2. Elevado nÃºmero de tasks generadas: (nÃºmero de IPs Ã— puertos) Ã— nÃºmero de hosts.
3. Escritura remota en CSV lÃ­nea por lÃ­nea.
4. Uso excesivo de `set_fact` y otros bloques intermedios.

âœ… Ventajas:
- Alta trazabilidad desde el lado de Ansible.
- Control detallado de cada validaciÃ³n (Ãºtil para entornos auditables).

âŒ Desventajas:
- Muy lenta con grandes volÃºmenes de IPs y puertos.
- Poca escalabilidad para inventarios grandes.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ” VERSIÃ“N 2: Basada en scripts remotos (mÃ¡s rÃ¡pida)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ”ï¸ CaracterÃ­sticas principales:
- Ansible transfiere los archivos `archivo_ips.txt`, `archivo_puertos.txt` y un script remoto (`valida_red.sh` o `valida_red.ps1`).
- El script se ejecuta localmente en cada host y realiza:
  â€¢ Pings en bucle.
  â€¢ ValidaciÃ³n de puertos con redirecciÃ³n TCP o `TcpClient`.
  â€¢ GeneraciÃ³n local del CSV en una Ãºnica ejecuciÃ³n.
- Ansible se encarga Ãºnicamente de:
  1. Copiar archivos al host.
  2. Ejecutar el script vÃ­a `shell` o `win_shell`.
  3. Recuperar el CSV con `fetch`.

â±ï¸ Tiempo de ejecuciÃ³n promedio:
â†’ 1 minuto y 15 segundos  
ğŸ”¹ Mismo inventario y matriz de prueba: 2 Linux + 2 Windows, 4 IPs Ã— 4 puertos

âš¡ Ventajas:
- ReducciÃ³n drÃ¡stica del tiempo de ejecuciÃ³n.
- Mucho mÃ¡s eficiente para entornos grandes.
- Minimiza el nÃºmero de conexiones remotas.

âŒ Desventajas:
- Menor visibilidad desde el lado de Ansible (la lÃ³gica se encuentra dentro del script).
- Menos granularidad si se requiere trazabilidad paso a paso.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“Œ ConclusiÃ³n tÃ©cnica:

âœ”ï¸ **VersiÃ³n 2 (scripts remotos)** es ideal para escenarios donde el rendimiento y la escalabilidad son prioritarios.

âœ”ï¸ **VersiÃ³n 1 (tasks modulares)** puede seguir siendo Ãºtil cuando se requiere mayor trazabilidad, auditorÃ­a paso a paso, o control granular sobre cada validaciÃ³n.

ğŸ” Ambas versiones funcionan con autenticaciÃ³n SSH por clave pÃºblica (no contraseÃ±as) y estÃ¡n validadas en entornos mixtos Windowsâ€“Linux.
